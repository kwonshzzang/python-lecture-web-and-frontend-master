# 5-03. git 사용하기(1): 초기 설정, 작업흐름, 실습

실제로 git을 한번 이용해보도록 하겠습니다. 초기설정부터 먼저 해보겠습니다. windows 사용자는 git bash 프로그램을, mac 사용자는 terminal 프로그램을 실행시켜 주세요. 그리고 아래와 같이 입력해 주시면 됩니다.

```
git config --global user.name "(자신의 이름)"
git config --global user.email "(자신의 이메일)"
```

잘 입력되었는지 확인해 보려면, `git config --global -l`이라고 입력해보시면 확인할 수 있습니다.

이제 어떤 식으로 변경사항을 관리하는지 살펴보도록 하겠습니다. git은 3개의 영역을 관리합니다. 작업 디렉토리(working directory), 임시 영역(staging area), 저장소(repository) 총 세 개의 영역입니다.

작업 디렉토리는 저희가 저장했던 index.html, style.css 등의 파일을 저장한 폴더를 의미합니다. 임시 구역은 변경사항을 저장소에 완전히 저장하기 전, 임시로 저장하는 영역입니다. 그리고 저장소는 변경사항이 완전히 저장되는 영역입니다. git을 사용하겠다고 설정하면, 작업 디렉터리 영역 내에 git이라는 이름의 숨김폴더가 생기는데요. 저장소는 이 숨김폴더 안에 저장되게 됩니다.

작업 흐름을 살펴 보겠습니다. 먼저, 편집한 소스코드를 임시구역에 추가합니다. 이때, git add 라는 커맨드라인 명령어를 실행해도 되고, GUI 프로그램을 사용하여 스테이징 영역에 저장할 수도 있습니다. 임시 구역에 저장된 변경사항은 commit이라는 단위로 저장소에 저장할 수 있습니다. git commit 명령어 혹은 GUI 프로그램에서 설정할 수 있습니다. 이후에도 변경사항이 발생할 때마다 똑같은 플로우가 생긴다고 생각하시면 되겠습니다.

말로만 들어서는 아마 이해가 쉽지 않으실텐데요. 한번 실습을 통해서 git을 사용해보도록 하겠습니다. Document 혹은 문서 폴더 내에 git-practice라는 폴더를 하나 새로 만들겠습니다. 그리고 practice.txt이라는 이름의 파일을 만들어 보겠습니다. 이 폴더를 VS code를 사용하여 켜 주세요.

```html
안녕하세요. 제 이름은 홍지수입니다.
```

이 상태로 파일을 저장하고, 변경사항, 그러니까 추가된 문장을 git을 사용하여 관리해 보겠습니다.

git을 사용하는 방법에는 2가지가 있다고 말씀 드렸는데요. 하나는 커맨드라인 명령어를 사용하는 방법이고, 다른 하나는 그래픽 유저 인터페이스 프로그램을 사용하는 방법입니다. 저는 먼저 VS code에 git을 사용할 수 있도록 내장된 프로그램을 사용해 보겠습니다.

이를 위해서 몇 가지 확장 프로그램도 설치를 해보겠습니다. git lens와 git history를 설치해주세요.

이제 한번 진행을 해보겠습니다. 세 번째 소스제어 아이콘을 누르시고, 오르쪽 위에 이미지를 누르시면 됩니다. git을 시작할 수 있도록 설정을 해주며, git init이라는 명령어와 같은 역할을 합니다. 이제부터 변경사항이 발생할 때마다 변경내용에 표시가 될 것입니다.

다음으로는 임시 영역, staging area 에 변경내용을 임시로 저장해 보겠습니다. 파일명 옆에 +버튼을 누르거나, 파일이름에서 오른쪽 버튼을 눌러 '변경내용 스테이징'을 누르시면 됩니다. 이제 practice.txt에 추가한 문장은 staging area에 저장이 되었습니다.

이 변경내용을 레포지토리에 저장할 수 있도록 커밋을 해보겠습니다. 커밋을 하기 위해서는 메시지라고 쓰여 있는 부분에 지금의 변경사항이 어떤 내용인지를 적어서 ctrl+enter 혹은 cmd+enter를 누르시면 됩니다. 저는 '첫 커밋'이라는 메시지를 남기겠습니다. 커밋에는 두 가지 의미가 있는데요. 하나는 스테이징 영역의 변경사항을 레포지토리에 저장하는 행위를 의미하기도 하고, 혹은 변경사항을 묶어주는 단위라고도 할 수 있습니다. 우리는 변경사항을 묶어주는 단위로 메시지를 적어, 스테이징 영역의 변경사항을 레포지토리에 방금 저장했습니다.

이제 txt 파일에서 커서를 가져다 대면, 2분 전에 누가 어떤 메시지로 커밋을 했는지를 볼 수 있습니다. 이제 한 문장을 추가해서 변경사항을 만들어 보겠습니다. 소스제어 탭에서 변경내용에 파일을 클릭해볼게요. 탭이 하나 더 뜨면서 어떤 내용이 변경되었는지가 나타나는군요. 문장이 한 개 추가된 것을 볼 수 있습니다. 이 변경사항도 한번 저장해 보겠습니다. 동일하게 '변경내용 스테이징'을 누르고, 메시지 영역에 적절한 메시지를 써서 커밋을 하여 레포지토리에 저장하도록 하겠습니다. 저는 '직업 소개 추가'라고 적어볼게요.

파일에서 오른쪽 버튼을 눌러 `Git: view file history`를 눌러 보세요. 저희가 지금 커밋을 한 내용이 추가가 되었습니다.

다시 한번 명심해 주세요. 레포지토리에 저장되는 내용은 변경된 파일 전체가 아니고, 변경내역 그 자체입니다. 변경된 내역만 바뀌는 것을 알 수 있습니다.

이번에는 커맨드라인 명령줄을 사용해서 똑같은 과정을 진행해 보겠습니다. 문장을 하나 더 추가하고 저장한 뒤에, windows 사용자는 git bash를 실행해주시고 맥 사용자는 터미널을 열어 주세요. 여기서 우리는 지금 파일을 저장하고 있는 디렉터리로 이동해야 하는데요. 이동하는 명령어를 잘 모르시는 분은 저와 똑같이 따라해 주세요. 배쉬 혹은 터미널에 `cd`라고 입력한 뒤, 탐색기 혹은 파인더를 켜서 practice.txt 파일이 있는 곳으로 이동하고, 폴더를 터미널로 끌어서 놔 주세요. 그러고 엔터를 누르면 현재 폴더 디렉터리로 이동해 있을 것입니다.

여기에서 이제 커맨드라인 명령어를 사용해 볼게요. `git status`라고 쳐보면, 현재 상태가 나타납니다. 변경사항이 있고 저장된 것이 없다고 하네요. 그러면 다음 명령줄에는 git add practice.txt이라고 적어 보겠습니다. 해당하는 파일을 스테이징 영역에 추가하는 명령어에요. `git status`를 다시 쳐서 상태를 확인해보면, 변경된 내역이 스테이징 영역으로 이동한 것을 볼 수 있습니다. 마지막으로 `git commit -m '메시지 내용'`이라고 입력한 뒤 엔터를 누르면 변경내역이 레포지토리에 저장되었습니다. git status를 보시면 더 이상 변경된 내역이나 스테이징 영역에 저장된 것이 없이 클린하다고 나올 거에요. `git log`라고 치면 지금까지 커밋한 내역이 나오게 됩니다. `q`를 누르면 빠져날 수 있습니다.
